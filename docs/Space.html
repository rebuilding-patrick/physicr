<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.31.1">

<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="github.com/solidsmokesoftware/physicr">
  <title>Space - github.com/solidsmokesoftware/physicr</title>
  <script type="text/javascript">
    CrystalDoc.base_path = "";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/AbsBody" data-name="absbody">
      <a href="AbsBody.html">AbsBody</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Body" data-name="body">
      <a href="Body.html">Body</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Circle" data-name="circle">
      <a href="Circle.html">Circle</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Clock" data-name="clock">
      <a href="Clock.html">Clock</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Collider" data-name="collider">
      <a href="Collider.html">Collider</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Controller" data-name="controller">
      <a href="Controller.html">Controller</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Index" data-name="index">
      <a href="Index.html">Index</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Rect" data-name="rect">
      <a href="Rect.html">Rect</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Shape" data-name="shape">
      <a href="Shape.html">Shape</a>
      
    </li>
  
  <li class=" current" data-id="github.com/solidsmokesoftware/physicr/Space" data-name="space">
      <a href="Space.html">Space</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/SpatialHash" data-name="spatialhash(t)">
      <a href="SpatialHash.html">SpatialHash</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/StaticBody" data-name="staticbody">
      <a href="StaticBody.html">StaticBody</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Ticker" data-name="ticker">
      <a href="Ticker.html">Ticker</a>
      
    </li>
  
  <li class=" " data-id="github.com/solidsmokesoftware/physicr/Vector" data-name="vector">
      <a href="Vector.html">Vector</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Space

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="Space.html">Space</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>Space handles the interactions between the SpatialHash and the Collider.
size is how large each collision area is. You'll have to figure out the best value for your game based on object density
and desired preformance.</p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L8" target="_blank">
        space.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(size:Int32)-class-method" class="signature"><strong>.new</strong>(size : Int32)</a>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#add(body:AbsBody,area:Tuple(Int32,Int32))-instance-method" class="signature"><strong>#add</strong>(body : AbsBody, area : Tuple(Int32, Int32))</a>
        
          <div class="summary"><p>Adds a body to the space.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#check(body:AbsBody,other:AbsBody):Bool-instance-method" class="signature"><strong>#check</strong>(body : AbsBody, other : AbsBody) : Bool</a>
        
          <div class="summary"><p>Check to see if two bodies are colliding with each other in abstract.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#check(body:AbsBody):Bool-instance-method" class="signature"><strong>#check</strong>(body : AbsBody) : Bool</a>
        
          <div class="summary"><p>Check to see if something is colliding with body in the space.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#collider:Collider-instance-method" class="signature"><strong>#collider</strong> : Collider</a>
        
          <div class="summary"><p>spatilhash that is the world space</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#collider=(collider:Collider)-instance-method" class="signature"><strong>#collider=</strong>(collider : Collider)</a>
        
          <div class="summary"><p>spatilhash that is the world space</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#delete(body:AbsBody,area:Tuple(Int32,Int32))-instance-method" class="signature"><strong>#delete</strong>(body : AbsBody, area : Tuple(Int32, Int32))</a>
        
          <div class="summary"><p>Removes a body from the space.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#get(position:Vector,shape:Shape):Array(AbsBody)-instance-method" class="signature"><strong>#get</strong>(position : Vector, shape : Shape) : Array(AbsBody)</a>
        
          <div class="summary"><p>Gets a list of all bodies colliding with shape at position</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#get(area:Tuple(Int32,Int32))-instance-method" class="signature"><strong>#get</strong>(area : Tuple(Int32, Int32))</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#get(body:Body):Array(AbsBody)-instance-method" class="signature"><strong>#get</strong>(body : Body) : Array(AbsBody)</a>
        
          <div class="summary"><p>Get a list of all bodies colliding with body</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#grid:SpatialHash(AbsBody)-instance-method" class="signature"><strong>#grid</strong> : SpatialHash(AbsBody)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#grid=(grid:SpatialHash(AbsBody))-instance-method" class="signature"><strong>#grid=</strong>(grid : SpatialHash(AbsBody))</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#has(body:AbsBody)-instance-method" class="signature"><strong>#has</strong>(body : AbsBody)</a>
        
          <div class="summary"><p>Returns True if a body is in the space at the body's area.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#move(body:AbsBody,dir:Vector)-instance-method" class="signature"><strong>#move</strong>(body : AbsBody, dir : Vector)</a>
        
          <div class="summary"><p>Moves a body.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#place(body:AbsBody,area:::Tuple(Int32,Int32))-instance-method" class="signature"><strong>#place</strong>(body : AbsBody, area : ::Tuple(Int32, Int32))</a>
        
          <div class="summary"><p>Moves a body from one collision area to another</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(size:Int32)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(size : Int32)

        <a class="method-permalink" href="#new(size:Int32)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L12" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="add(body:AbsBody,area:Tuple(Int32,Int32))-instance-method">
      <div class="signature">
        
        def <strong>add</strong>(body : <a href="AbsBody.html">AbsBody</a>, area : Tuple(Int32, Int32))

        <a class="method-permalink" href="#add(body:AbsBody,area:Tuple(Int32,Int32))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Adds a body to the space.
Bodies are added to their collision area as well as the 8 nearest neighboring cells to handle overlap and fast moving obejcts.
areas are a Tuple of scaled x, and y, obtained from pos_to_area(x, y)</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L20" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="check(body:AbsBody,other:AbsBody):Bool-instance-method">
      <div class="signature">
        
        def <strong>check</strong>(body : <a href="AbsBody.html">AbsBody</a>, other : <a href="AbsBody.html">AbsBody</a>) : Bool

        <a class="method-permalink" href="#check(body:AbsBody,other:AbsBody):Bool-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Check to see if two bodies are colliding with each other in abstract. Does not use the space.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L108" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="check(body:AbsBody):Bool-instance-method">
      <div class="signature">
        
        def <strong>check</strong>(body : <a href="AbsBody.html">AbsBody</a>) : Bool

        <a class="method-permalink" href="#check(body:AbsBody):Bool-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Check to see if something is colliding with body in the space.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L96" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="collider:Collider-instance-method">
      <div class="signature">
        
        def <strong>collider</strong> : <a href="Collider.html">Collider</a>

        <a class="method-permalink" href="#collider:Collider-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>spatilhash that is the world space</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L10" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="collider=(collider:Collider)-instance-method">
      <div class="signature">
        
        def <strong>collider=</strong>(collider : <a href="Collider.html">Collider</a>)

        <a class="method-permalink" href="#collider=(collider:Collider)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>spatilhash that is the world space</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L10" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="delete(body:AbsBody,area:Tuple(Int32,Int32))-instance-method">
      <div class="signature">
        
        def <strong>delete</strong>(body : <a href="AbsBody.html">AbsBody</a>, area : Tuple(Int32, Int32))

        <a class="method-permalink" href="#delete(body:AbsBody,area:Tuple(Int32,Int32))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Removes a body from the space.
areas are a Tuple of scaled x, and y, obtained from pos_to_area(x, y)</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L37" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="get(position:Vector,shape:Shape):Array(AbsBody)-instance-method">
      <div class="signature">
        
        def <strong>get</strong>(position : <a href="Vector.html">Vector</a>, shape : <a href="Shape.html">Shape</a>) : Array(<a href="AbsBody.html">AbsBody</a>)

        <a class="method-permalink" href="#get(position:Vector,shape:Shape):Array(AbsBody)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Gets a list of all bodies colliding with shape at position</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L68" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="get(area:Tuple(Int32,Int32))-instance-method">
      <div class="signature">
        
        def <strong>get</strong>(area : Tuple(Int32, Int32))

        <a class="method-permalink" href="#get(area:Tuple(Int32,Int32))-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L63" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="get(body:Body):Array(AbsBody)-instance-method">
      <div class="signature">
        
        def <strong>get</strong>(body : <a href="Body.html">Body</a>) : Array(<a href="AbsBody.html">AbsBody</a>)

        <a class="method-permalink" href="#get(body:Body):Array(AbsBody)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Get a list of all bodies colliding with body</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L82" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="grid:SpatialHash(AbsBody)-instance-method">
      <div class="signature">
        
        def <strong>grid</strong> : <a href="SpatialHash.html">SpatialHash</a>(<a href="AbsBody.html">AbsBody</a>)

        <a class="method-permalink" href="#grid:SpatialHash(AbsBody)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L9" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="grid=(grid:SpatialHash(AbsBody))-instance-method">
      <div class="signature">
        
        def <strong>grid=</strong>(grid : <a href="SpatialHash.html">SpatialHash</a>(<a href="AbsBody.html">AbsBody</a>))

        <a class="method-permalink" href="#grid=(grid:SpatialHash(AbsBody))-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L9" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="has(body:AbsBody)-instance-method">
      <div class="signature">
        
        def <strong>has</strong>(body : <a href="AbsBody.html">AbsBody</a>)

        <a class="method-permalink" href="#has(body:AbsBody)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns True if a body is in the space at the body's area. False if not
Note there room for bugs here if body.area is not matched up propertly with the right collision area.
Use Manager to move and place bodies to avoid problems</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L55" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="move(body:AbsBody,dir:Vector)-instance-method">
      <div class="signature">
        
        def <strong>move</strong>(body : <a href="AbsBody.html">AbsBody</a>, dir : <a href="Vector.html">Vector</a>)

        <a class="method-permalink" href="#move(body:AbsBody,dir:Vector)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Moves a body. This will be move efficent than place
Not implemented yet.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L119" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="place(body:AbsBody,area:::Tuple(Int32,Int32))-instance-method">
      <div class="signature">
        
        def <strong>place</strong>(body : <a href="AbsBody.html">AbsBody</a>, area : ::Tuple(Int32, Int32))

        <a class="method-permalink" href="#place(body:AbsBody,area:::Tuple(Int32,Int32))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Moves a body from one collision area to another</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/solidsmokesoftware/physicr/blob/61c837ac5c59b296fe2abcd59f9aaf440856402d/src/space.cr#L123" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
